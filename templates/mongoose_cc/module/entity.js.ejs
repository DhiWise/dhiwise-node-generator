
<% let MODEL_NAME =  MODEL.charAt(0).toUpperCase() + MODEL.slice(1);%>
module.exports = (<%-MODEL%>) => {

  let new<%-MODEL_NAME%> = {
    <%_SCHEMA.forEach((v)=>{ _%>
      <%-v%>:<%-MODEL%>.<%-v%>,
    <%_ }); _%> 
  };

  // remove undefined values
  Object.keys(new<%-MODEL_NAME%>).forEach(key => new<%-MODEL_NAME%>[key] === undefined && delete new<%-MODEL_NAME%>[key]);

  // To validate Entity uncomment this block

  /*
   * const validate = (new<%-MODEL_NAME%>) => {
   *   if (!new<%-MODEL_NAME%>.field) {
   *       throw new Error("this field is required");
   *   }
   * }
   * 
   * validate(new<%-MODEL_NAME%>) 
   */
  return Object.freeze(new<%-MODEL_NAME%>);
};
